{"ast":null,"code":"var _jsxFileName = \"/Users/tishivak/Documents/web/sound/src/components/Player.jsx\",\n  _s = $RefreshSig$();\nimport React, { useRef, useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Player({\n  track\n}) {\n  _s();\n  const audioRef = useRef(null);\n  const [segments, setSegments] = useState([]);\n  const [start, setStart] = useState(0);\n  const [end, setEnd] = useState(5);\n  const [repeat, setRepeat] = useState(1);\n  const addSegment = () => {\n    setSegments([...segments, {\n      start,\n      end,\n      repeat\n    }]);\n  };\n  const playSegments = async () => {\n    for (const seg of segments) {\n      for (let r = 0; r < seg.repeat; r++) {\n        await playSegment(seg.start, seg.end);\n      }\n    }\n    playSegments(); // ðŸ” loop whole sequence\n  };\n  const playSegment = (s, e) => {\n    return new Promise(resolve => {\n      const audio = audioRef.current;\n      audio.currentTime = s;\n      audio.play();\n      const interval = setInterval(() => {\n        if (audio.currentTime >= e) {\n          audio.pause();\n          clearInterval(interval);\n          resolve();\n        }\n      }, 100);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"mb-6 p-3 border rounded\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"font-semibold\",\n      children: track.name\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"audio\", {\n      ref: audioRef,\n      src: track.url,\n      controls: true,\n      className: \"w-full mb-2\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex gap-2 mb-2\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        value: start,\n        onChange: e => setStart(Number(e.target.value)),\n        placeholder: \"Start (sec)\",\n        className: \"border px-2 py-1 rounded\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        value: end,\n        onChange: e => setEnd(Number(e.target.value)),\n        placeholder: \"End (sec)\",\n        className: \"border px-2 py-1 rounded\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        value: repeat,\n        onChange: e => setRepeat(Number(e.target.value)),\n        placeholder: \"Repeat\",\n        className: \"border px-2 py-1 rounded\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: addSegment,\n        className: \"bg-green-500 text-white px-3 py-1 rounded\",\n        children: \"Add\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-2\",\n      children: segments.map((seg, i) => /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"\\u25B6 \", seg.start, \"s \\u2192 \", seg.end, \"s \\xD7 \", seg.repeat]\n      }, i, true, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: playSegments,\n      className: \"bg-blue-500 text-white px-3 py-1 rounded\",\n      children: \"Play Sequence (Loop)\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 5\n  }, this);\n}\n_s(Player, \"17+PG0indR714lRIE6+hZO+KtJI=\");\n_c = Player;\nvar _c;\n$RefreshReg$(_c, \"Player\");","map":{"version":3,"names":["React","useRef","useState","jsxDEV","_jsxDEV","Player","track","_s","audioRef","segments","setSegments","start","setStart","end","setEnd","repeat","setRepeat","addSegment","playSegments","seg","r","playSegment","s","e","Promise","resolve","audio","current","currentTime","play","interval","setInterval","pause","clearInterval","className","children","name","fileName","_jsxFileName","lineNumber","columnNumber","ref","src","url","controls","type","value","onChange","Number","target","placeholder","onClick","map","i","_c","$RefreshReg$"],"sources":["/Users/tishivak/Documents/web/sound/src/components/Player.jsx"],"sourcesContent":["import React, { useRef, useState } from \"react\";\n\nexport default function Player({ track }) {\n  const audioRef = useRef(null);\n  const [segments, setSegments] = useState([]);\n  const [start, setStart] = useState(0);\n  const [end, setEnd] = useState(5);\n  const [repeat, setRepeat] = useState(1);\n\n  const addSegment = () => {\n    setSegments([...segments, { start, end, repeat }]);\n  };\n\n  const playSegments = async () => {\n    for (const seg of segments) {\n      for (let r = 0; r < seg.repeat; r++) {\n        await playSegment(seg.start, seg.end);\n      }\n    }\n    playSegments(); // ðŸ” loop whole sequence\n  };\n\n  const playSegment = (s, e) => {\n    return new Promise(resolve => {\n      const audio = audioRef.current;\n      audio.currentTime = s;\n      audio.play();\n\n      const interval = setInterval(() => {\n        if (audio.currentTime >= e) {\n          audio.pause();\n          clearInterval(interval);\n          resolve();\n        }\n      }, 100);\n    });\n  };\n\n  return (\n    <div className=\"mb-6 p-3 border rounded\">\n      <h2 className=\"font-semibold\">{track.name}</h2>\n      <audio ref={audioRef} src={track.url} controls className=\"w-full mb-2\" />\n\n      <div className=\"flex gap-2 mb-2\">\n        <input \n          type=\"number\" \n          value={start} \n          onChange={e => setStart(Number(e.target.value))} \n          placeholder=\"Start (sec)\" \n          className=\"border px-2 py-1 rounded\"\n        />\n        <input \n          type=\"number\" \n          value={end} \n          onChange={e => setEnd(Number(e.target.value))} \n          placeholder=\"End (sec)\" \n          className=\"border px-2 py-1 rounded\"\n        />\n        <input \n          type=\"number\" \n          value={repeat} \n          onChange={e => setRepeat(Number(e.target.value))} \n          placeholder=\"Repeat\" \n          className=\"border px-2 py-1 rounded\"\n        />\n        <button \n          onClick={addSegment}\n          className=\"bg-green-500 text-white px-3 py-1 rounded\"\n        >\n          Add\n        </button>\n      </div>\n\n      <div className=\"mb-2\">\n        {segments.map((seg, i) => (\n          <p key={i}>â–¶ {seg.start}s â†’ {seg.end}s Ã— {seg.repeat}</p>\n        ))}\n      </div>\n\n      <button \n        onClick={playSegments} \n        className=\"bg-blue-500 text-white px-3 py-1 rounded\"\n      >\n        Play Sequence (Loop)\n      </button>\n    </div>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}